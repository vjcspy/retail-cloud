<div class="cart-row bundle checked" *ngIf="item['type_id']=='bundle' && item['children_calculated']">
  <div class="cart-head">
    <div class="c-img">
      <img [src]="getItemImage(item)" alt="no-image"/>
    </div>
    <div class="c-num">{{item['qty_ordered']}}</div>
    <div class="c-name">
      <h3 class="product-name">{{item['name']}}</h3>
      <p class="p-product-name">{{item['sku']}}</p>
    </div>
    <input style="display: none;" [disabled]="!item['can_edit_qty'] || item['qty_to_refund'] == 0" class="count-num" type="text" [(ngModel)]="item['qty']" enterBlur inputNumber
           inputSelectText [isDecimal]="item['is_qty_decimal']" (blur)="reloadCreditmemo()"/>
  </div>
  <div class="cart-content">
    <div class="inner">
      <div class="cart-head" *ngFor="let childItem of getChildrenBundle(item)"
           (click)="activeRefundItem($event,childItem)"
           [ngClass]="{disabled: !childItem ['qty']}">
        <div class="c-img">
          <img [src]="getItemImage(item)" alt="no-image"/>
        </div>
        <div class="c-num">{{childItem['qty_to_refund']}}</div>
        <div class="c-name">
          <h3 class="product-name">{{childItem['name']}}</h3>
          <p class="p-product-name">{{childItem['sku']}}</p>
        </div>
        <input [disabled]="!childItem['can_edit_qty'] || childItem['qty_to_refund'] == 0"
               class="count-num" type="text"
               [(ngModel)]="childItem['qty']" inputNumber
               inputSelectText enterBlur
               [isDecimal]="childItem['is_qty_decimal']"
               (blur)="reloadCreditmemoQtyZero(childItem)"/>
        <div class="c-price">
                <span class="refund-pr">
                    -{{(configState.setting.tax.displayCartPricesExclTax() ? childItem['row_total'] : childItem['row_total_incl_tax'])| priceFormat}}
                </span>
        </div>
        <div class="checkbox-input checkbox-restock">
          <input type="checkbox" class="return_stock" [(ngModel)]="childItem['back_to_stock']" #tooltip checked data-toggle="tooltip"
                 data-placement="left"
                 title="Return to Stock">
          <label></label>
          <span class="tooltiptext-left">{{'Restock' | translate}}</span>
        </div>


      </div>
    </div>
  </div>
</div>

<div class="cart-row" *ngIf="!item['parent_id'] &&!(item['type_id']=='bundle' && item['children_calculated'])"
     (click)="activeRefundItem($event,item)" [ngClass]="{checked: item ['qty']>0}">
  <div class="cart-head" [ngClass]="{disabled: !item['qty']}">
    <div class="c-img">
      <img [src]="getItemImage(item)" alt="no-image"/>
    </div>
    <div class="c-num">{{item['qty_to_refund']}}</div>
    <div class="c-name" *ngIf="!item['custom_sale_name']">
      <h3 class="product-name">{{item['name']}}</h3>
      <p class="p-product-name" *ngIf="!item['custom_sale_name']">{{item['sku']}}</p>
    </div>
    <div class="c-name" *ngIf="item['custom_sale_name']">
      <h3 class="product-name">{{item['custom_sale_name']}}</h3>
    </div>
    <input [disabled]="!item['can_edit_qty'] || item['qty_to_refund'] == 0"
           class="count-num" type="text"
           [(ngModel)]="item['qty']" inputNumber
           inputSelectText enterBlur (blur)="reloadCreditmemo()"
           [isDecimal]="item['is_qty_decimal']"/>
    <div class="c-price">
                <span class="refund-pr">
                    -{{(configState.setting.tax.displayCartPricesExclTax() ? item['row_total'] : item['row_total_incl_tax'])| priceFormat}}
                </span>
    </div>
    <div class="checkbox-input checkbox-restock">
      <input type="checkbox" class="return_stock" [(ngModel)]="item['back_to_stock']" #tooltip checked data-toggle="tooltip"
             data-placement="left"
             title="Return to Stock">
      <label></label>
      <span class="tooltiptext-left">{{'Restock' | translate}}</span>
    </div>

  </div>
</div>
