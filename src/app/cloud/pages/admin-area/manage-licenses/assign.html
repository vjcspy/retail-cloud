<div class="content content-narrow">
  <div class="row">
    <div class="col-md-6">
      <!-- Static Labels -->
      <div class="block">
        <div class="block-header">
          <ul class="block-options">
            <li>
              <button type="button"><i class="si si-settings"></i></button>
            </li>
          </ul>
          <h3 class="block-title">Assign license to an user</h3>
        </div>
        <div class="block-content block-content-narrow">
          <form class="js-validation-assign-license form-horizontal push-10-t">
            <div class="form-group">
              <label class="col-md-4 control-label" for="license">Select license <span class="text-danger">*</span></label>
              <div class="col-md-7">
                <select class="form-control" id="license" name="license" [(ngModel)]="data.license" (change)="changeLicense()">
                  <option value="">Please select</option>
                  <option *ngFor="let license of licenses" value="{{license['_id']}}">{{license['key']}}</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label class="col-md-4 control-label" for="user">Select user <span class="text-danger">*</span></label>
              <div class="col-md-7">
                <select class="form-control" id="user" name="user" [(ngModel)]="data.user" (change)="changeUser()">
                  <option value="">Please select</option>
                  <option *ngFor="let user of users" value="{{user['_id']}}">{{user['username']}}</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-12">
                <button class="btn btn-sm btn-primary center-block" type="submit" [disabled]="!!isLoading">Submit</button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <!-- END Static Labels -->
    </div>

    <div class="col-md-6">
      <div class="block" *ngIf="data.license || data.user">
        <div class="block-header">
          <ul class="block-options">
            <li>
              <button type="button"><i class="si si-settings"></i></button>
            </li>
          </ul>
          <h3 class="block-title">Information</h3>
        </div>
        <div class="block-content block-content-narrow">
          <form class="form-horizontal push-10-t">
            <div *ngIf="data.license" class="animated fadeIn">
              <div class="form-group">
                <div class="col-sm-9">
                  <div class="form-material">
                    <input class="form-control" type="text" id="license_key" disabled name="material-text" [value]="license.key">
                    <label for="license_key">License Key</label>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-9">
                  <div class="form-material">
                    <input class="form-control" type="text" id="license_created" disabled name="material-text" [value]="license.created_by">
                    <label for="license_created">Created by</label>
                  </div>
                </div>
              </div>
              <div class="form-group" *ngIf="license['has_product'].length >0">
                <div class="col-sm-9">
                  <div class="form-material">
                    <ul class="list-group" id="products">
                      <li class="list-group-item" *ngFor="let product of license['has_product']">
                        <span class="badge">pricing: {{product['pricing_id']}}</span>
                        {{product['product_name']}}
                      </li>
                    </ul>
                    <label for="products">License has Product</label>
                  </div>
                </div>
              </div>
            </div>

            <div *ngIf="data.user" class="animated fadeIn">
              <div class="form-group">
                <div class="col-sm-9">
                  <div class="form-material">
                    <input class="form-control" type="text" id="user_name" disabled name="material-text" [value]="user['username']">
                    <label for="user_name">User name</label>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-9">
                  <div class="form-material">
                    <input class="form-control" type="text" id="user_email" disabled name="material-text" [value]="user.emails[0]['address']">
                    <label for="license_created">Email</label>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>

    </div>
  </div>
</div>
